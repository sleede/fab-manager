<section class="heading b-b">
  <div class="row no-gutter b-b">
    <div class="col-xs-2 col-sm-2 col-md-1">
      <section class="heading-btn">
        <a ng-click="backPrevLocation($event)"><i class="fas fa-long-arrow-alt-left "></i></a>
      </section>
    </div>
    <div class="col-xs-10 col-sm-10 col-md-8 b-l b-r-md">
      <section class="heading-title">
        <h1 translate>{{ 'app.admin.events.fablab_events' }}</h1>
      </section>
    </div>

    <div class="col-xs-12 col-sm-12 col-md-3 b-t hide-b-md" ng-if="isAuthorized(['admin', 'manager'])">
      <section class="heading-actions wrapper">
        <a class="fab-button is-secondary b-2x m-t-sm" ui-sref="app.admin.events_new" role="button" translate>{{ 'app.admin.events.add_an_event' }}</a>
      </section>
    </div>
  </div>
</section>

<section class="m-lg events-management"
         ui-tour="events"
         ui-tour-backdrop="true"
         ui-tour-template-url="'/shared/tour-step-template.html'"
         ui-tour-use-hotkeys="true"
         ui-tour-scroll-parent-id="content-main"
         post-render="setupEventsTour">
  <div class="row">
    <div class="col-md-12" ng-if="isAuthorized('admin')">
      <uib-tabset justified="true" active="tabs.active">
        <uib-tab heading="{{ 'app.admin.events.settings' | translate }}" index="0">
          <events-settings on-error="onError" on-success="onSuccess" ui-router="uiRouter"></events-settings>
        </uib-tab>

        <uib-tab heading="{{ 'app.admin.events.events_monitoring' | translate }}" index="1">
          <ng-include src="'/admin/events/monitoring.html'"></ng-include>
        </uib-tab>

        <uib-tab heading="{{ 'app.admin.events.manage_filters' | translate }}" index="2">
          <ng-include src="'/admin/events/filters.html'"></ng-include>
        </uib-tab>

        <uib-tab heading="{{ 'app.admin.events.manage_prices_categories' | translate }}" index="3" class="prices-tab">
          <ng-include src="'/admin/events/prices.html'"></ng-include>
        </uib-tab>
      </uib-tabset>
    </div>
    <div class="col-md-12" ng-if="isAuthorized('manager')">
      <ng-include src="'/admin/events/monitoring.html'"></ng-include>
    </div>
  </div>
</section>
